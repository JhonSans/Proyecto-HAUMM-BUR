TABLAS

CREATE TABLE INGREDIENTE (
ID_ING INTEGER NOT NULL,
NOM_ING VARCHAR(50) NULL,
TIP_ING VARCHAR(50) NULL,
PRIMARY KEY(ID_ING)
);

CREATE TABLE ROL (
ID_ROL INTEGER NOT NULL,
TIP_ROL VARCHAR(15),
PRIMARY KEY (ID_ROL)
);

CREATE TABLE TIPO_ENTREGA (
ID_ENT SERIAL NOT NULL,
TIP_ENT VARCHAR(50) NULL,
PRIMARY KEY(ID_ENT)
);

CREATE TABLE USUARIOS (
ID_ROL INTEGER NOT NULL,
CC_USU VARCHAR(20) NOT NULL,
NOM_USU VARCHAR(50) NOT NULL,
APE_USU VARCHAR(50) NOT NULL,
CEL_USU VARCHAR(20) NOT NULL,
COR_USU VARCHAR(50) NULL,
DIR_USU VARCHAR(60) NULL,
USU VARCHAR(50) NULL,
CNT_USU VARCHAR(250) NULL,
ESTADO INTEGER NULL,
PRIMARY KEY(CC_USU),
FOREIGN KEY(ID_ROL)
REFERENCES ROL(ID_ROL)
);

CREATE TABLE PRODUCTO (
ID_PRO SERIAL NOT NULL,
ID_ING INTEGER NOT NULL,
NOM_PRO VARCHAR(50) NULL,
PRE FLOAT NOT NULL,
PRIMARY KEY(ID_PRO),
FOREIGN KEY(ID_ING)
REFERENCES INGREDIENTE(ID_ING)
);

CREATE TABLE PEDIDO (
ID_PED INTEGER NOT NULL,
CC_USU VARCHAR(20) NOT NULL,
ID_ENT SERIAL NOT NULL,
CANT INTEGER NULL,
PRIMARY KEY(ID_PED),
FOREIGN KEY(ID_ENT)
REFERENCES TIPO_ENTREGA(ID_ENT),
FOREIGN KEY(CC_USU)
REFERENCES USUARIOS(CC_USU)
 
);

CREATE TABLE PRODUCTO_PEDIDO (
REG_PED SERIAL NOT NULL,
ID_PRO INTEGER NOT NULL,
ID_PED SERIAL NOT NULL,
PRIMARY KEY(REG_PED),
FOREIGN KEY(ID_PED)
REFERENCES PEDIDO(ID_PED),
FOREIGN KEY(ID_PRO)
REFERENCES PRODUCTO(ID_PRO)

);

CREATE TABLE FACTURA (
ID_FAC INTEGER NOT NULL,
ID_PED SERIAL NOT NULL,
TOTAL FLOAT NOT NULL,
PRIMARY KEY(ID_FAC),
FOREIGN KEY(ID_PED)
REFERENCES PEDIDO(ID_PED)

);

CREATE TABLE METODO_PAGO (
ID_PAG SERIAL NOT NULL,
ID_PED SERIAL NOT NULL,
FOR_PAG VARCHAR(15) NOT NULL,
PRIMARY KEY(ID_PAG),
FOREIGN KEY(ID_PED)
REFERENCES PEDIDO(ID_PED)
 
);



DATOS

INSERT INTO ROL VALUES (1, 'ADMINISTRADOR'), (2, 'OPERARIO'), (3, 'CLIENTE');

INSERT INTO USUARIOS VALUES (1, '1001197240', 'Jhonatan', 'Santanilla', '3214380775', 'jstevensantani@gmail.com', 'Cra 93 # 76 - 88', 'JhonSans', MD5('goten123'), 1);
